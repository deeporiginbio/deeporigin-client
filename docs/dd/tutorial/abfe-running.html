<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://cdn.jsdelivr.net; style-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'; script-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'">
    <title>ABFE run using <code>brd</code> and <code>cmpd 9 (methoxyethyl)</code></title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Custom style for JSON blocks */
        pre,
        .monospace-block {
            background: #f8f9fa;
            border: 1px solid #e3e3e3;
            border-radius: 0.25rem;
            padding: 1rem;
            font-family: monospace;
            white-space: pre-wrap;
        }

        .card {
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <!-- Full-width, left-aligned card using container-fluid -->
    <div class="container-fluid py-3">
        <div class="card w-100">
            <div class="card-header">
                <h2 class="card-title mb-3">ABFE run using <code>brd</code> and <code>cmpd 9 (methoxyethyl)</code></h2>
                <ul class="nav nav-tabs card-header-tabs" id="jobTabs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="status-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#status-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="status-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="true">
                            Status
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="details-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#details-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="details-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="false">
                            Details
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="inputs-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#inputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="inputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="false">
                            Inputs
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="outputs-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#outputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="outputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="false">
                            Outputs
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="billing-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#billing-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="billing-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="false">
                            Billing
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="raw-progress-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" data-bs-toggle="tab"
                            data-bs-target="#raw-progress-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" type="button" role="tab"
                            aria-controls="raw-progress-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" aria-selected="false">
                            Raw Progress Reports
                        </button>
                    </li>
                </ul>
            </div>
            <!-- Card Body with Tab Content -->
            <div class="card-body">
                <div class="tab-content" id="jobTabsContent-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                    <!-- Status Tab -->
                    <div class="tab-pane fade show active" id="status-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="status-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        <div class="mermaid">
graph LR;
    %% Define styles for statuses:
    classDef NotStarted   fill:#cccccc,stroke:#333,stroke-width:2px;
    classDef Queued    fill:#cccccc,stroke:#222,stroke-width:2px;
    classDef Succeeded   fill:#90ee90,stroke:#333,stroke-width:2px;
    classDef Running      fill:#87CEFA,stroke:#333,stroke-width:2px;
    classDef Failed    fill:#ff7f7f,stroke:#333,stroke-width:2px;

    init(Init):::NotStarted;
    complex(Complex Prep):::NotStarted;
    ligand(Ligand Prep):::NotStarted;
    solvation(Solvation FEP):::NotStarted;
    simple_md(Simple MD):::NotStarted;
    binding(Binding FEP):::NotStarted;
    delta_g(Î”G):::NotStarted;


    init --> complex;
    init --> ligand;
    ligand ----> solvation;
    solvation --> delta_g;
    complex ---> simple_md --> binding -->delta_g;
    
    </div>
    <script>
      if (typeof mermaid === 'undefined') {
        var script = document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js";
        script.onload = function() {
          mermaid.initialize({startOnLoad:true});
          mermaid.init(undefined, document.getElementsByClassName("mermaid"));
        };
        document.head.appendChild(script);
      } else {
          mermaid.init(undefined, document.getElementsByClassName("mermaid"));
      }
    </script>
    
    <div style="margin-top: 20px; font-family: sans-serif;">
        <span style="background-color:#cccccc; color: black;padding:2px 4px; margin: 0 8px;">NotStarted</span>
        <span style="background-color:#90ee90; color: black;padding:2px 4px; margin: 0 8px;">Succeeded</span>
        <span style="background-color:#87CEFA; color: black;padding:2px 4px; margin: 0 8px;">Running</span>
        <span style="background-color:#ff7f7f; color: black;padding:2px 4px; margin: 0 8px;">Failed</span>
    </div>
    
                    </div>
                    <!-- Details Tab with Table -->
                    <div class="tab-pane fade" id="details-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="details-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        <table class="table table-bordered table-striped mb-0">
                            <thead>
                                <tr>
                                    <th>executionID</th>
                                    <th>resourceID</th>
                                    <th>Status</th>
                                    <th>Started At</th>
                                    <th>Running Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>74459b7a-24f9-44dd-81ec-797695df66ce</td>
                                    <td>r9gza2ibf7y8zf3ktxjob</td>
                                    <td>Running</td>
                                    <td>a minute ago</td>
                                    <td>None</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Inputs Tab with Interactive JSON Viewer -->
                    <div class="tab-pane fade" id="inputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="inputs-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        
        <div id="json_viewer_80a788fa9c6b4690acfd75db6ed50b65" style="padding:10px;border:1px solid #ddd;"></div>
        <script>
        (function() {
        const mountSelector = "#json_viewer_80a788fa9c6b4690acfd75db6ed50b65";
        function render() {
            new JsonViewer({ value: {"md": {"steps": 250000, "continue": 0, "test_run": 0, "md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "barostat": "MonteCarloBarostat", "integrator": "BAOABIntegrator", "hydrogen_mass": 2, "fourier_spacing": 0.12, "barostat_exchange_interval": 1150}, "thread_pinning": 1}, "emeq": {"em_all": true, "test_run": 0, "em_solvent": true, "nvt_heating_ns": 1, "thread_pinning": 1, "emeq_md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "hydrogen_mass": 2, "fourier_spacing": 0.12}, "npt_reduce_restraints_ns": 2}, "ligand": {"key": "entities/ligands/bac7b4d01c1a7ab102b1c9955a1839730a5099b08eba93807e12f6ab22adfb67.sdf", "$provider": "ufa"}, "binding": {"mbar": 1, "steps": 1250000, "em_all": true, "repeats": 1, "test_run": 0, "skip_emeq": "__NO", "annihilate": true, "em_solvent": true, "fep_windows": [{"restraints_A": [0, 0.01, 0.025, 0.05, 0.1, 0.35, 0.5, 0.75, 1]}, {"coul_A": [1, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0]}, {"vdw_A": [1, 0.923, 0.846, 0.769, 0.692, 0.615, 0.538, 0.462, 0.385, 0.308, 0.231, 0.154, 0.077, 0]}], "nvt_heating_ns": 1, "softcore_alpha": 0.5, "thread_pinning": 1, "add_fep_repeats": 0, "emeq_md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "hydrogen_mass": 2, "fourier_spacing": 0.12}, "prod_md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "barostat": "MonteCarloBarostat", "integrator": "BAOABIntegrator", "hydrogen_mass": 2, "fourier_spacing": 0.12, "barostat_exchange_interval": 1150}, "atom_mapping_threshold": 0.01, "npt_reduce_restraints_ns": 2}, "protein": {"key": "entities/proteins/db4aa32e2e8ffa976a60004a8361b86427a2e5653a6623bb60b7913445902549.pdb", "$provider": "ufa"}, "solvation": {"mbar": 1, "steps": 500000, "em_all": true, "repeats": 1, "test_run": 0, "skip_emeq": "__NO", "annihilate": true, "em_solvent": true, "fep_windows": [{"coul_A": [1, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0]}, {"vdw_A": [1, 0.923, 0.846, 0.769, 0.692, 0.615, 0.538, 0.462, 0.385, 0.308, 0.231, 0.154, 0.077, 0]}], "nvt_heating_ns": 0.1, "softcore_alpha": 0.5, "thread_pinning": 1, "add_fep_repeats": 0, "emeq_md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "hydrogen_mass": 2, "fourier_spacing": 0.12}, "prod_md_options": {"T": 298.15, "dt": 0.004, "cutoff": 0.9, "barostat": "MonteCarloBarostat", "integrator": "BAOABIntegrator", "hydrogen_mass": 2, "fourier_spacing": 0.12, "barostat_exchange_interval": 1150}, "atom_mapping_threshold": 0.01, "npt_reduce_restraints_ns": 0.2}, "ligand_prep": {"sysprep_params": {"padding": 1, "force_field": "ff14SB", "keep_waters": true, "charge_method": "bcc", "save_gmx_files": false, "lig_force_field": "gaff2", "do_loop_modelling": false, "is_lig_protonated": false, "is_protein_protonated": false}}, "complex_prep": {"sysprep_params": {"padding": 1, "force_field": "ff14SB", "keep_waters": true, "charge_method": "bcc", "save_gmx_files": false, "lig_force_field": "gaff2", "do_loop_modelling": false, "is_lig_protonated": false, "is_protein_protonated": false}}}, showCopy: true, rootName: false })
            .render(mountSelector);
        }

        // If JsonViewer is already present, render immediately; otherwise load it then render.
        if (window.JsonViewer) {
            render();
        } else {
            const s = document.createElement('script');
            s.src = "https://cdn.jsdelivr.net/npm/@textea/json-viewer@3";
            s.onload = render;
            document.head.appendChild(s);
        }
        })();
        </script>
        
                    </div>
                    <!-- Outputs Tab with Interactive JSON Viewer -->
                    <div class="tab-pane fade" id="outputs-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="outputs-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        
        <div id="json_viewer_397ceef60df9457cbd8a48920a7150e3" style="padding:10px;border:1px solid #ddd;"></div>
        <script>
        (function() {
        const mountSelector = "#json_viewer_397ceef60df9457cbd8a48920a7150e3";
        function render() {
            new JsonViewer({ value: {"output_file": {"key": "tool-runs/ABFE/db4aa32e2e8ffa976a60004a8361b86427a2e5653a6623bb60b7913445902549.pdb/bac7b4d01c1a7ab102b1c9955a1839730a5099b08eba93807e12f6ab22adfb67.sdf/output/", "$provider": "ufa"}, "abfe_results_summary": {"key": "tool-runs/ABFE/db4aa32e2e8ffa976a60004a8361b86427a2e5653a6623bb60b7913445902549.pdb/bac7b4d01c1a7ab102b1c9955a1839730a5099b08eba93807e12f6ab22adfb67.sdf/results.csv", "$provider": "ufa"}}, showCopy: true, rootName: false })
            .render(mountSelector);
        }

        // If JsonViewer is already present, render immediately; otherwise load it then render.
        if (window.JsonViewer) {
            render();
        } else {
            const s = document.createElement('script');
            s.src = "https://cdn.jsdelivr.net/npm/@textea/json-viewer@3";
            s.onload = render;
            document.head.appendChild(s);
        }
        })();
        </script>
        
                    </div>
                    <!-- Billing Tab with Interactive JSON Viewer -->
                    <div class="tab-pane fade" id="billing-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="billing-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        
        <div id="json_viewer_747a5cd3e64f4d7290370d5d039516d2" style="padding:10px;border:1px solid #ddd;"></div>
        <script>
        (function() {
        const mountSelector = "#json_viewer_747a5cd3e64f4d7290370d5d039516d2";
        function render() {
            new JsonViewer({ value: {"billingTransaction": {"items": [{"qty": 0, "itemCode": "DO_ABFE", "priceEach": 120, "isApproved": true, "priceTotal": 61.2, "actionRequest": null, "authorizationId": "68ff8658623e881b01f5753c", "purchaseApprovalComment": null}], "orgId": "deeporigin", "status": "Approved", "totalCost": 61.2, "transactionId": "68ff8658623e881b01f5753a"}, "quotationResult": {"anyFailed": false, "failedQuotations": [], "successfulQuotations": [{"qty": 0, "orgId": "deeporigin", "status": "OK", "itemCode": "DO_ABFE", "qty_vars": {"abfe_atoms": 25698, "abfe_repeats": 1, "abfe_windows": 34, "abfe_amino_acids": 126, "abfe_production_steps": 1250000, "abfe_equilibration_steps": 750000}, "priceEach": 120, "priceTotal": 61.2, "pricingRecords": [{"qty": 0.51, "itemKey": "DO_ABFE", "itemName": "Absolute Binding Free Energy (ABFE)", "priceEach": 120, "tierQtyTo": 0, "totalPrice": 61.2, "tierQtyFrom": 0}], "pricingRecordType": "regular"}]}}, showCopy: true, rootName: false })
            .render(mountSelector);
        }

        // If JsonViewer is already present, render immediately; otherwise load it then render.
        if (window.JsonViewer) {
            render();
        } else {
            const s = document.createElement('script');
            s.src = "https://cdn.jsdelivr.net/npm/@textea/json-viewer@3";
            s.onload = render;
            document.head.appendChild(s);
        }
        })();
        </script>
        
                    </div>
                    <!-- Raw Progress Reports Tab -->
                    <div class="tab-pane fade" id="raw-progress-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3" role="tabpanel"
                        aria-labelledby="raw-progress-tab-5dc02b9c-7525-4c0f-bf7c-3fe7e2d5e7e3">
                        <div class="monospace-block">{}</div>
                    </div>
                </div>
            </div>
            <!-- Card Footer with a Badge and Last Updated Timestamp -->
            <div class="card-footer d-flex justify-content-between align-items-center">
                <div class="d-flex flex-wrap gap-1">
                    <span class="badge bg-primary">Running</span>
                </div>
                <span id="last-updated" class="text-muted" style="font-size: 0.9rem;">Last updated: 2025-10-27 10:50:00</span>
            </div>
        </div>
    </div>
    <!-- Bootstrap 5 JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>